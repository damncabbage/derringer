// Strap it.
@import "bootstrap";
@import "bootstrap-responsive";

// Compass libs.
@import "compass/utilities";
@import "compass/css3";

// Helpers
.animated-hide-open {
  @include transition-property('opacity, height, padding');
  @include transition-duration(0.5s);
  opacity: 1;
}
.animated-hide-fold {
  opacity: 0;
  padding-top: 0; padding-bottom: 0;
  margin-top: 0; margin-bottom: 0;
}
.animated-hide {
  @extend .animated-hide-open;
  /* Because bootstrap overrides hide, hidden, invisible, collapse and collapsed. */
  &.fold {
    @extend .animated-hide-fold;
  }
}


body {
  padding-bottom: 20px;
}

.masthead {
  padding: 60px 30px 30px;
  text-align: center;
}


/***** Search *****/

#search-form {
  @extend .row;
  margin-bottom: 45px;

  .inputs {
    @extend .span10;
    @extend .offset1;
    position: relative;
    background: #ccc;
    @include border-radius(5px);
    padding: 9px 9px 0 9px;

    .text {
      @extend .span8;
      padding: 12px 8px;
      line-height: 22px;
      height: 22px;
      font-size: 20px;
    }

    .submit {
      @extend .span2;
      @extend .btn;
      @extend .btn-primary;
      @extend .btn-large;
      float: right;
      font-size: 20px;
      padding: 11px 15px;
    }
  }

  .tip.touch {
    @include replace-text-with-dimensions('tap-here.png');
    position: absolute;
    top: image-height('tap-here.png') - 20px;
    right: 0px;
  }
  .tip.mouse {
    display: none;
  }
}

/* Results list */
#search-results {
  min-height: 200px;

  &.loading {
    background: image-url('loading.gif') no-repeat center 50px;
  }
  &.done {
    & > li {
      opacity: 1;
    }
  }
  & > li {
    opacity: 0;
    @include transition(opacity 0.5s);
  }
}

/* Orders list (usually also the results list) */
.orders {
  & > li {
    @include pie-clearfix;
    @include border-radius(5px);
    display: block;
    list-style: none;
    padding: 20px;
    margin-bottom: 10px;
    background: #ccc;
    cursor: pointer;

    .code {
      float: right;
      font-size: 1.4em;
      padding-top: 8px;
      color: #666;
    }
    p.others {
      float: left;
      margin-bottom: 0;
    }
    ul.others {
      float: left;
      margin-left: 6px;
      list-style: none;

      li { float: left; padding-right: 3px; }
      li:after            { content: ','; }
      li:last-child:after { content: '.'; }
    }
  }
}

/* Notification */
.message {
  padding-left: 30px;
  /* TODO: background sprite */
}


/****** Animation *****/
#search-panel {
  /* Show Instructions, Hide Results */
  .tip, .message, .masthead {
    @extend .animated-hide-open;
  }
  #search-results {
    @extend .animated-hide-fold;
    height: 0;
  }

  /* Hide Instructions, Show Results */
  &.show-results {
    .tip, .message, .masthead {
      @extend .animated-hide-fold;
    }
    #search-results {
      @extend .animated-hide-open;
    }
  }
}


hr {
  margin-top: 180px;
  display: block;
}

.panels-container {
  position: absolute;
  overflow: hidden;
  width: 100%;
  height: 92%;
  padding-top: 60px;
}
html.appleios .panels-container { padding-top: 30px; }

.panel-outer {
  @include transition-property(left);
  @include transition-duration(0.5s);
  position: absolute;
  width: 100%;
  background: #ff8888;
  left: -50%;
}
.panel-inner {
  @include transition-property(left);
  @include transition-duration(0.5s);
  position: absolute;
  width: 100%;
  left: 50%;
}

#search-panel {
  &.left {
    left: -100%;
    .panel-inner {
      left: 0%;
    }
  }
}

#order-panel {
  &.right {
    left: 0%;
    .panel-inner {
      left: 100%;
    }
  }
}

